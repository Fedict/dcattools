# Copy identifier from CatalogRecord if there's no identifier on the Dataset / Dataservice

PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX foaf: <http://xmlns.com/foaf/0.1/>

INSERT {
		?s dcterms:identifier ?id 
	}
WHERE
	{	?s foaf:isPrimaryTopicOf ?rec .
		?rec dcterms:identifier ?id .
		FILTER NOT EXISTS { ?s dcterms:identifier ?id }
	}