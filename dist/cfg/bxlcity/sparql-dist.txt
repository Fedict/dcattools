PREFIX dcat: <http://www.w3.org/ns/dcat#>
PREFIX dcterms: <http://purl.org/dc/terms/>
PREFIX dgov: <http://data.gov.be#>
PREFIX skos: <http://www.w3.org/2004/02/skos/core#>

INSERT
	{ 	
		?dataset dcat:distribution ?dist .
		?dist a dcat:Distribution .
		?dist dcat:mediaType ?media .
		?dist dcat:accessURL ?page .
		?dist dcat:downloadURL ?data .
		?dist dcterms:language ?lang }
WHERE
	{ 
		?dataset a dcat:Dataset .	
		?dataset dcterms:identifier ?id .
		?dataset dcterms:language ?lang
		VALUES (?media) {
			( "csv" )
			( "json" )
			( "xls" )
		}
		VALUES (?lang ?prefix) {
			( <http://id.loc.gov/vocabulary/iso639-1/nl> "http://opendata.brussel.be" )
			( <http://id.loc.gov/vocabulary/iso639-1/fr> "http://opendata.bruxelles.be" )
			( <http://id.loc.gov/vocabulary/iso639-1/en> "http://opendata.brussels.be" )
		}
		BIND(IRI(CONCAT('http://data.gov.be/dist/bxlcity/', ?id, '/', ?media)) as ?dist)
		BIND(IRI(CONCAT(?prefix, '/explore/dataset/', ?id)) as ?page)
		BIND(IRI(CONCAT(?prefix, '/explore/dataset/', ?id, '/download/?format=', ?media)) as ?data)
		
	}